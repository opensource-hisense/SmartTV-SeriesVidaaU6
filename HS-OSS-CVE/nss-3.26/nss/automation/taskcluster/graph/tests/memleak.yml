---
- task:
    metadata:
      name: "MemLeak tests (ssl_server, standard)"
      description: "MemLeak tests (ssl_server, standard)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_server
        NSS_CYCLES: standard
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Server
        groupName: MemLeak tests (ssl_server)
        symbol: standard
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (ssl_server, pkix)"
      description: "MemLeak tests (ssl_server, pkix)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_server
        NSS_CYCLES: pkix
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Server
        groupName: MemLeak tests (ssl_server)
        symbol: pkix
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (ssl_server, sharedb)"
      description: "MemLeak tests (ssl_server, sharedb)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_server
        NSS_CYCLES: sharedb
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Server
        groupName: MemLeak tests (ssl_server)
        symbol: sharedb
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (ssl_server, upgradedb)"
      description: "MemLeak tests (ssl_server, upgradedb)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_server
        NSS_CYCLES: upgradedb
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Server
        groupName: MemLeak tests (ssl_server)
        symbol: upgradedb
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (ssl_client, standard)"
      description: "MemLeak tests (ssl_client, standard)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_client
        NSS_CYCLES: standard
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Client
        groupName: MemLeak tests (ssl_client)
        symbol: standard
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (ssl_client, pkix)"
      description: "MemLeak tests (ssl_client, pkix)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_client
        NSS_TESTS: memleak
        NSS_CYCLES: pkix

    extra:
      treeherder:
        groupSymbol: Client
        groupName: MemLeak tests (ssl_client)
        symbol: pkix
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (ssl_client, sharedb)"
      description: "MemLeak tests (ssl_client, sharedb)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_client
        NSS_CYCLES: sharedb
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Client
        groupName: MemLeak tests (ssl_client)
        symbol: sharedb
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (ssl_client, upgradedb)"
      description: "MemLeak tests (ssl_client, upgradedb)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: ssl_client
        NSS_CYCLES: upgradedb
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Client
        groupName: MemLeak tests (ssl_client)
        symbol: upgradedb
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (chains, standard)"
      description: "MemLeak tests (chains, standard)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: chains
        NSS_CYCLES: standard
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Chains
        groupName: MemLeak tests (chains)
        symbol: standard
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (chains, pkix)"
      description: "MemLeak tests (chains, pkix)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: chains
        NSS_TESTS: memleak
        NSS_CYCLES: pkix

    extra:
      treeherder:
        groupSymbol: Chains
        groupName: MemLeak tests (chains)
        symbol: pkix
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (chains, sharedb)"
      description: "MemLeak tests (chains, sharedb)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: chains
        NSS_CYCLES: sharedb
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Chains
        groupName: MemLeak tests (chains)
        symbol: sharedb
        collection:
          memleak: true

- task:
    metadata:
      name: "MemLeak tests (chains, upgradedb)"
      description: "MemLeak tests (chains, upgradedb)"

    payload:
      env:
        NSS_MEMLEAK_TESTS: chains
        NSS_CYCLES: upgradedb
        NSS_TESTS: memleak

    extra:
      treeherder:
        groupSymbol: Chains
        groupName: MemLeak tests (chains)
        symbol: upgradedb
        collection:
          memleak: true
